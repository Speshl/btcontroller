(this.webpackJsonpbtcontroller=this.webpackJsonpbtcontroller||[]).push([[0],{263:function(e,t,n){},264:function(e,t,n){},265:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(89),o=n.n(s),l=n(5),i=n(10),c=n(12),p=n(11),u=n(2),d=n.n(u),h=n(4),m=n(96),C=function e(){Object(l.a)(this,e)};C.encoder=new TextEncoder,C.decoder=new TextDecoder("utf-8"),C.connect=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=m.channelUUIDs).push(m.saveUUID),n.push(m.onUUID),n.push(m.commandUUID),n.push(m.serviceUUID),a={acceptAllDevices:!0,optionalServices:n},e.prev=6,e.next=9,navigator.bluetooth.requestDevice(a);case 9:return(r=e.sent).addEventListener("gattserverdisconnected",t),e.next=13,r.gatt.connect();case 13:return s=e.sent,e.abrupt("return",s);case 17:throw e.prev=17,e.t0=e.catch(6),new Error("Bluetooth Connection: "+e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}(),C.disconnect=function(e){C.isConnected(e)&&e.disconnect()},C.isConnected=function(e){var t=!1;return e&&e.connected&&(t=!0),t},C.bulkLoad=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a,r,s,o,l,i,c,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.connected){e.next=4;break}return e.next=3,t.connect();case 3:t=e.sent;case 4:return e.next=6,t.getPrimaryService(m.serviceUUID);case 6:return n=e.sent,e.next=9,n.getCharacteristic(m.bulkReadUUID);case 9:return a=e.sent,e.next=12,a.readValue();case 12:for(r=e.sent,s=1===r.getUint8(0),o=C.readCommandData(r.buffer.slice(2,12)),l=[],i=0;i<8;i++)p=(c=12+12*i)+12,l.push(C.readChannelData(r.buffer.slice(c,p)));return e.abrupt("return",{lightsOn:s,command:o,channels:l});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C.load=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.connected){e.next=4;break}return e.next=3,t.connect();case 3:t=e.sent;case 4:return e.next=6,t.getPrimaryService(m.serviceUUID);case 6:return n=e.sent,e.next=9,Promise.all([C.loadLightsOnData(n),C.loadCommandData(n),C.loadChannelData(n,0),C.loadChannelData(n,1),C.loadChannelData(n,2),C.loadChannelData(n,3),C.loadChannelData(n,4),C.loadChannelData(n,5),C.loadChannelData(n,6),C.loadChannelData(n,7)]);case 9:return a=e.sent,e.abrupt("return",{lightsOn:a[0],command:a[1],channels:a.slice(2)});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C.loadLightsOnData=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getCharacteristic(m.onUUID);case 3:return n=e.sent,e.next=6,n.readValue();case 6:return a=e.sent,e.abrupt("return",1===a.getUint8(0));case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),C.readCommandData=function(e){var t=new Uint8Array(e),n=new Uint16Array(e);return{primaryRed:t[0],primaryGreen:t[1],primaryBlue:t[2],secondaryRed:t[3],secondaryGreen:t[4],secondaryBlue:t[5],animation:t[6],stepDelay:n[4]}},C.loadCommandData=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getCharacteristic(m.commandUUID);case 3:return n=e.sent,e.next=6,n.readValue();case 6:return a=e.sent,e.abrupt("return",C.readCommandData(a));case 10:return e.prev=10,e.t0=e.catch(0),console.log("Error reading commandData: "+e.t0),e.abrupt("return",{primaryRed:0,primaryGreen:0,primaryBlue:0,secondaryRed:0,secondaryGreen:0,secondaryBlue:0,animation:0,stepDelay:0});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),C.readChannelData=function(e){var t=new Uint8Array(e),n=new Uint16Array(e);return{isCentered:t[0],isInterior:t[1],stripUsed:t[2],stripType:t[3],stripOrder:t[4],stripPosition:t[5],numLEDs:n[3],height:n[4],width:n[5]}},C.loadChannelData=function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getCharacteristic(m.channelUUIDs[n]);case 3:return a=e.sent,e.next=6,a.readValue();case 6:return r=e.sent,e.abrupt("return",C.readChannelData(r));case 10:return e.prev=10,e.t0=e.catch(0),console.log("Error reading channel "+n+" data: "+e.t0),e.abrupt("return",{isCentered:0,isInterior:0,stripUsed:0,stripType:0,stripOrder:0,stripPosition:0,numLEDs:0,height:0,width:0});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),C.updateCommand=function(){var e=Object(h.a)(d.a.mark((function e(t,n,a,r){var s,o,l,i,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.connected){e.next=5;break}return e.next=4,t.connect();case 4:t=e.sent;case 5:return e.next=7,t.getPrimaryService(m.serviceUUID);case 7:return s=e.sent,e.next=10,s.getCharacteristic(m.commandUUID);case 10:return o=e.sent,l=new ArrayBuffer(2),new Uint16Array(l)[0]=r.delay,i=new Uint8Array(l),c=new Uint8Array([n.red,n.green,n.blue,a.red,a.green,a.blue,r.animation,0,i[0],i[1]]),o.writeValue(c),e.abrupt("return",!0);case 20:return e.prev=20,e.t0=e.catch(0),console.log("Error sending updateCommand ... command: "+e.t0),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),C.updateChannel=function(){var e=Object(h.a)(d.a.mark((function e(t,n,a,r,s,o,l,i,c,p,u){var h,C,S,v,g,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.connected){e.next=5;break}return e.next=4,t.connect();case 4:t=e.sent;case 5:return e.next=7,t.getPrimaryService(m.serviceUUID);case 7:return h=e.sent,e.next=10,h.getCharacteristic(m.channelUUIDs[n]);case 10:return C=e.sent,S=new ArrayBuffer(6),v=new Uint16Array(S),g=new Uint8Array(S),v[0]=r,v[1]=p,v[2]=u,f=new Uint8Array([c,i,l,a,o,s,g[0],g[1],g[2],g[3],g[4],g[5]]),C.writeValue(f),e.abrupt("return",!0);case 22:return e.prev=22,e.t0=e.catch(0),console.log("Error sending updateChannel command: "+e.t0),e.abrupt("return",!1);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,n,a,r,s,o,l,i,c,p,u){return e.apply(this,arguments)}}(),C.save=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.connected){e.next=5;break}return e.next=4,t.connect();case 4:t=e.sent;case 5:return e.next=7,t.getPrimaryService(m.serviceUUID);case 7:return n=e.sent,e.next=10,n.getCharacteristic(m.saveUUID);case 10:return a=e.sent,r=new Uint8Array([1]),a.writeValue(r),e.abrupt("return",!0);case 16:return e.prev=16,e.t0=e.catch(0),console.log("Error sending save command: "+e.t0),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),C.toggleLights=function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.connected){e.next=5;break}return e.next=4,t.connect();case 4:t=e.sent;case 5:return a=n?new Uint8Array([0]):new Uint8Array([1]),e.next=8,t.getPrimaryService(m.serviceUUID);case 8:return r=e.sent,e.next=11,r.getCharacteristic(m.onUUID);case 11:return e.sent.writeValue(a),e.abrupt("return",!0);case 16:return e.prev=16,e.t0=e.catch(0),console.log("Error sending toggleLights command: "+e.t0),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}();n(97);var S=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).connect=Object(h.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.connect(e.onDisconnected);case 3:n=t.sent,e.props.stateUpdaters.updateDeviceState(n,1,!0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),!1===t.t0.message.includes("User cancelled the requestDevice() chooser")&&alert(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.disconnect=Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:2===e.props.state.deviceState.connectionStatus&&C.disconnect(e.props.state.deviceState.selectedDevice);case 1:case"end":return t.stop()}}),t)}))),e.onDisconnected=function(){e.props.stateUpdaters.updateDeviceState(null,0,!0)},e.load=Object(h.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==e.props.state.deviceState.connectionStatus){t.next=5;break}return t.next=3,C.bulkLoad(e.props.state.deviceState.selectedDevice);case 3:n=t.sent,e.props.stateUpdaters.updateAllStates({server:e.props.state.deviceState.selectedDevice,data:n});case 5:case"end":return t.stop()}}),t)}))),e.save=Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.state.deviceState.selectedDevice&&C.save(e.props.state.deviceState.selectedDevice);case 1:case"end":return t.stop()}}),t)}))),e.toggleLightStatus=Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(2!==e.props.state.deviceState.connectionStatus){t.next=5;break}return t.next=3,C.toggleLights(e.props.state.deviceState.selectedDevice,e.props.state.deviceState.lightsOn);case 3:t.sent&&e.props.stateUpdaters.updateDeviceState(e.props.state.deviceState.selectedDevice,e.props.state.deviceState.connectionStatus,!e.props.state.deviceState.lightsOn);case 5:case"end":return t.stop()}}),t)}))),e.getCurrentStatusBorderStyle=function(){return 0===e.props.state.deviceState.connectionStatus?{borderColor:"red"}:1===e.props.state.deviceState.connectionStatus?{borderColor:"yellow"}:2===e.props.state.deviceState.connectionStatus?{borderColor:"green"}:void 0},e.getCurrentStatusTextStyle=function(){return 0===e.props.state.deviceState.connectionStatus?{color:"red"}:1===e.props.state.deviceState.connectionStatus?{color:"yellow"}:2===e.props.state.deviceState.connectionStatus?{color:"green"}:void 0},e.getCurrentStatusText=function(){var t="Status: ";return 0===e.props.state.deviceState.connectionStatus?t+="Disconnected":1===e.props.state.deviceState.connectionStatus?t+="Loading saved data...":2===e.props.state.deviceState.connectionStatus&&(t+="Connected"),t},e.getLightsToggleButton=function(){if(2===e.props.state.deviceState.connectionStatus)return e.props.state.deviceState.lightsOn?r.a.createElement("div",null,r.a.createElement("button",{className:"lightsToggle",onClick:e.toggleLightStatus},"Toggle Lights Off")):r.a.createElement("div",null,r.a.createElement("button",{className:"lightsToggle",onClick:e.toggleLightStatus},"Toggle Lights On"))},e.getSaveButton=function(){if(2===e.props.state.deviceState.connectionStatus)return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"saveButton",onClick:e.save},"Save CommandSet"))},e.componentDidUpdate=function(){1===e.props.state.deviceState.connectionStatus&&e.load()},e}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"selectorMainDiv",style:this.getCurrentStatusBorderStyle()},r.a.createElement("h2",null,"Device Selector"),r.a.createElement("button",{className:"selectorButton",onClick:this.connect},"Connect Device"),r.a.createElement("button",{className:"selectorButton",onClick:this.disconnect},"Disconnect Device"),r.a.createElement("div",{className:"selectorLabelDiv"},r.a.createElement("div",null,r.a.createElement("label",{className:"selectorLabel"},"Name: ",this.props.state.deviceState.selectedDevice?this.props.state.deviceState.selectedDevice.device.name:"")),r.a.createElement("div",null,r.a.createElement("label",{className:"selectorLabel",style:this.getCurrentStatusTextStyle()},this.getCurrentStatusText())),r.a.createElement("div",null,this.getSaveButton()),this.getLightsToggleButton()))}}]),n}(a.Component),v=n(35),g=(n(263),null),f=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).handleNewColor=function(e,t){g=e.hex.toUpperCase()},e.addColor=function(t){if("primary"===e.props.type){var n=e.props.state.primaryColorState;e.props.stateUpdaters.updatePrimaryColorState(n.colorList,!0,n.red,n.green,n.blue)}else{var a=e.props.state.secondaryColorState;e.props.stateUpdaters.updateSecondaryColorState(a.colorList,!0,a.red,a.green,a.blue)}},e.addColorToList=function(){if("primary"===e.props.type){var t=e.props.state.primaryColorState;t.colorList.push(g),e.props.stateUpdaters.updatePrimaryColorState(t.colorList,t.isPickingColor,t.red,t.green,t.blue)}else{var n=e.props.state.secondaryColorState;n.colorList.push(g),e.props.stateUpdaters.updateSecondaryColorState(n.colorList,n.isPickingColor,n.red,n.green,n.blue)}},e.cancelColor=function(){if("primary"===e.props.type){var t=e.props.state.primaryColorState;e.props.stateUpdaters.updatePrimaryColorState(t.colorList,!1,t.red,t.green,t.blue)}else{var n=e.props.state.secondaryColorState;e.props.stateUpdaters.updateSecondaryColorState(n.colorList,!1,n.red,n.green,n.blue)}},e.handleSelectColor=function(t,n){if("primary"===e.props.type){var a=e.props.state.primaryColorState;e.props.stateUpdaters.updatePrimaryColorState(a.colorList,a.isPickingColor,t.rgb.r,t.rgb.g,t.rgb.b)}else{var r=e.props.state.secondaryColorState;e.props.stateUpdaters.updateSecondaryColorState(r.colorList,r.isPickingColor,t.rgb.r,t.rgb.g,t.rgb.b)}},e.getColorPickerHeaderText=function(){return"primary"===e.props.type?"Select Primary Color":"Select Secondary Color"},e.getColorList=function(){return"primary"===e.props.type?e.props.state.primaryColorState.colorList:e.props.state.secondaryColorState.colorList},e.toggleCustomColorPicker=function(){return("primary"===e.props.type?e.props.state.primaryColorState:e.props.state.secondaryColorState).isPickingColor?r.a.createElement("div",null,r.a.createElement(v.SketchPicker,{presetColors:[],disableAlpha:!0,width:"250px",onChangeComplete:e.handleNewColor}),r.a.createElement("button",{onClick:e.addColorToList},"Add"),r.a.createElement("button",{onClick:e.cancelColor},"Cancel")):r.a.createElement("button",{onClick:e.addColor},"Add Custom Color")},e.getSelectedColor=function(){var t=null;if("primary"===e.props.type){if(t=e.getColorString(e.props.state.primaryColorState.red,e.props.state.primaryColorState.green,e.props.state.primaryColorState.blue),e.props.state.primaryColorState.colorList.includes(t))return t;e.addColorToList({rgb:{r:e.props.state.primaryColorState.red,g:e.props.state.primaryColorState.green,b:e.props.state.primaryColorState.blue}})}else{if(t=e.getColorString(e.props.state.secondaryColorState.red,e.props.state.secondaryColorState.green,e.props.state.secondaryColorState.blue),e.props.state.secondaryColorState.colorList.includes(t))return t;e.addColorToList({rgb:{r:e.props.state.secondaryColorState.red,g:e.props.state.secondaryColorState.green,b:e.props.state.secondaryColorState.blue}})}},e.getColorString=function(e,t,n){var a=e.toString(16).toUpperCase(),r=t.toString(16).toUpperCase(),s=n.toString(16).toUpperCase();return 1===a.length&&(a="0"+a),1===r.length&&(r="0"+r),1===s.length&&(s="0"+s),"#"+a+r+s},e}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"colorListMainDiv"},r.a.createElement("h3",null,this.getColorPickerHeaderText()),r.a.createElement("div",{className:"circlePickerDiv"},r.a.createElement(v.CirclePicker,{colors:this.getColorList(),width:"295px",onChangeComplete:this.handleSelectColor,color:this.getSelectedColor()})),this.toggleCustomColorPicker())}}]),n}(a.Component),y=(n(264),["Static","Blink","Pulse","Wave","Wave Alternate","Roll","Roll Alternate","Stack","Stack Alternate"]),D=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).switchAnimation=function(t){var n=y.indexOf(t.target.value);n>-1&&e.props.stateUpdaters.updateCommandState(n,e.props.state.commandState.delay)},e.getSelectedAnimation=function(){return y[e.props.state.commandState.animation]},e.getDelayValue=function(){return e.props.state.commandState.delay},e.updateDelayValue=function(t){var n=parseInt(t.target.value);(isNaN(n)||n<10)&&(n=10),e.props.stateUpdaters.updateCommandState(e.props.state.commandState.animation,n)},e}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"animationListMainDiv"},r.a.createElement("h3",null,"Select Animation"),r.a.createElement("div",null,r.a.createElement("label",{className:"inRowDisplayLabel"},"Animation:",r.a.createElement("select",{className:"inRowDisplayInput",onChange:this.switchAnimation,value:this.getSelectedAnimation()},y.map((function(e){return r.a.createElement("option",{key:e,value:e}," ",e," ")}))))),r.a.createElement("div",null,r.a.createElement("label",{className:"inRowDisplayLabel"},"Delay:",r.a.createElement("input",{className:"inRowDisplayInput indentText",type:"number",min:"10",name:"delay",value:this.getDelayValue(),onChange:this.updateDelayValue}))))}}]),n}(a.Component),b=(n(265),function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).updateChannel=function(){var t=Object(h.a)(d.a.mark((function t(n){var a,r,s,o,l,i,c,p,u,h,m;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e.props.state.channelState.editedChannelDescription||null===e.props.state.channelState.channelDescriptions){t.next=17;break}return a=e.props.state.channelState.editedChannelDescription.id,r=null!==e.props.state.channelState.editedChannelDescription.numLEDs?e.props.state.channelState.editedChannelDescription.numLEDs:e.props.state.channelState.channelDescriptions[a].numLEDs,s=null!==e.props.state.channelState.editedChannelDescription.type?e.props.state.channelState.editedChannelDescription.type:e.props.state.channelState.channelDescriptions[a].type,o=null!==e.props.state.channelState.editedChannelDescription.order?e.props.state.channelState.editedChannelDescription.order:e.props.state.channelState.channelDescriptions[a].order,l=null!==e.props.state.channelState.editedChannelDescription.position?e.props.state.channelState.editedChannelDescription.position:e.props.state.channelState.channelDescriptions[a].position,i=e.props.state.channelState.selectedChannelList[a],c=null!==e.props.state.channelState.editedChannelDescription.isInterior?e.props.state.channelState.editedChannelDescription.isInterior:e.props.state.channelState.channelDescriptions[a].isInterior,p=null!==e.props.state.channelState.editedChannelDescription.isCentered?e.props.state.channelState.editedChannelDescription.isCentered:e.props.state.channelState.channelDescriptions[a].isCentered,u=null!==e.props.state.channelState.editedChannelDescription.height?e.props.state.channelState.editedChannelDescription.height:e.props.state.channelState.channelDescriptions[a].height,h=null!==e.props.state.channelState.editedChannelDescription.width?e.props.state.channelState.editedChannelDescription.width:e.props.state.channelState.channelDescriptions[a].width,t.next=13,C.updateChannel(e.props.state.deviceState.selectedDevice,a,s,r,e.getIntFromPosition(l),o,i,c,p,u,h);case 13:t.sent&&((m=e.props.state.channelState.channelDescriptions)[a].numLEDs=r,m[a].type=s,m[a].order=o,m[a].position=l,m[a].isInterior=c,m[a].isCentered=p,e.props.stateUpdaters.updateChannelState(e.props.state.channelState.selectedChannelList,m,{id:a,type:null,numLEDs:null,position:null,order:null,isInterior:null,isCentered:null,height:null,width:null})),t.next=17;break;case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getIntFromPosition=function(e){var t=0,n=e.split(":");return t=4*parseInt(n[0]),t+=parseInt(n[1])},e.channelClicked=function(t){var n=e.props.state.channelState.selectedChannelList;n[t.target.value]=!0!==n[t.target.value],e.props.stateUpdaters.updateChannelState(n,e.props.state.channelState.channelDescriptions,e.props.state.channelState.editedChannelDescription)},e.getDisabledStatus=function(t){return null===e.props.state.channelState.channelDescriptions||(0===e.props.state.channelState.channelDescriptions[t].stripType||null===e.props.state.channelState.channelDescriptions[t].stripType)},e.getToggleStyle=function(t){return e.props.state.channelState.selectedChannelList[t]?"channelButtonSelected":"channelButton"},e.getTogglePositionStyle=function(t){if(null!=e.props.state.channelState.editedChannelDescription){var n=e.props.state.channelState.editedChannelDescription.id,a=e.props.state.channelState.editedChannelDescription.position;return null!==a?t===a?"channelPositionSelectedUsed":"channelPosition":null!==e.props.state.channelState.channelDescriptions&&t===e.props.state.channelState.channelDescriptions[n].position?"channelPositionSelectedUsed":"channelPosition"}return"channelPosition"},e.switchEditingChannel=function(t){e.props.stateUpdaters.updateChannelState(e.props.state.channelState.selectedChannelList,e.props.state.channelState.channelDescriptions,{id:parseInt(t.target.value),type:null,numLEDs:null,position:null,order:null,isInterior:null,isCentered:null,height:null,width:null})},e.updateChannelPosition=function(t){if(null!==e.props.state.channelState.editedChannelDescription){var n=e.props.state.channelState.editedChannelDescription;n.position=t.target.value,e.props.stateUpdaters.updateChannelState(e.props.state.channelState.selectedChannelList,e.props.state.channelState.channelDescriptions,n)}},e.updateStripType=function(t){if(null!==e.props.state.channelState.editedChannelDescription){var n=e.props.state.channelState.editedChannelDescription;n.type=parseInt(t.target.value),e.props.stateUpdaters.updateChannelState(e.props.state.channelState.selectedChannelList,e.props.state.channelState.channelDescriptions,n)}},e.updateInterior=function(t){if(null!==e.props.state.channelState.editedChannelDescription){var n=e.props.state.channelState.editedChannelDescription;n.isInterior=t.target.checked,e.props.stateUpdaters.updateChannelState(e.props.state.channelState.selectedChannelList,e.props.state.channelState.channelDescriptions,n)}},e.updateCentered=function(t){if(null!==e.props.state.channelState.editedChannelDescription){var n=e.props.state.channelState.editedChannelDescription;n.isCentered=t.target.checked,e.props.stateUpdaters.updateChannelState(e.props.state.channelState.selectedChannelList,e.props.state.channelState.channelDescriptions,n)}},e.updateNumLEDs=function(t){if(null!==e.props.state.channelState.editedChannelDescription){var n=e.props.state.channelState.editedChannelDescription;n.numLEDs=parseInt(t.target.value),e.props.stateUpdaters.updateChannelState(e.props.state.channelState.selectedChannelList,e.props.state.channelState.channelDescriptions,n)}},e.updateHeight=function(t){if(null!==e.props.state.channelState.editedChannelDescription){var n=e.props.state.channelState.editedChannelDescription;n.height=parseInt(t.target.value),e.props.stateUpdaters.updateChannelState(e.props.state.channelState.selectedChannelList,e.props.state.channelState.channelDescriptions,n)}},e.updateWidth=function(t){if(null!==e.props.state.channelState.editedChannelDescription){var n=e.props.state.channelState.editedChannelDescription;n.width=parseInt(t.target.value),e.props.stateUpdaters.updateChannelState(e.props.state.channelState.selectedChannelList,e.props.state.channelState.channelDescriptions,n)}},e.updateColorOrder=function(t){if(null!==e.props.state.channelState.editedChannelDescription){var n=e.props.state.channelState.editedChannelDescription;n.order=parseInt(t.target.value),e.props.stateUpdaters.updateChannelState(e.props.state.channelState.selectedChannelList,e.props.state.channelState.channelDescriptions,n)}},e.addEditChannels=function(){var t=null;null===e.props.state.channelState.editedChannelDescription&&(t={id:0,type:null,numLEDs:null,position:null,order:null,isInterior:null,isCentered:null,height:null,width:null}),e.props.stateUpdaters.updateChannelState(e.props.state.channelState.selectedChannelList,e.props.state.channelState.channelDescriptions,t)},e.getNumLEDsValue=function(){if(null!==e.props.state.channelState.editedChannelDescription){var t=e.props.state.channelState.editedChannelDescription.id,n=e.props.state.channelState.editedChannelDescription.numLEDs;return null!==n?n:null!==e.props.state.channelState.channelDescriptions&&null!==e.props.state.channelState.channelDescriptions[t].numLEDs?e.props.state.channelState.channelDescriptions[t].numLEDs:0}return 0},e.getHeight=function(){if(null!==e.props.state.channelState.editedChannelDescription){var t=e.props.state.channelState.editedChannelDescription.id,n=e.props.state.channelState.editedChannelDescription.height;return null!==n?n:null!==e.props.state.channelState.channelDescriptions&&null!==e.props.state.channelState.channelDescriptions[t].height?e.props.state.channelState.channelDescriptions[t].height:0}return 0},e.getWidth=function(){if(null!==e.props.state.channelState.editedChannelDescription){var t=e.props.state.channelState.editedChannelDescription.id,n=e.props.state.channelState.editedChannelDescription.width;return null!==n?n:null!==e.props.state.channelState.channelDescriptions&&null!==e.props.state.channelState.channelDescriptions[t].width?e.props.state.channelState.channelDescriptions[t].width:0}return 0},e.getSelectedChannel=function(){return null!==e.props.state.channelState.editedChannelDescription?e.props.state.channelState.editedChannelDescription.id:0},e.getSelectedColorOrder=function(){if(null!==e.props.state.channelState.editedChannelDescription){var t=e.props.state.channelState.editedChannelDescription.id,n=e.props.state.channelState.editedChannelDescription.order;return null!==n?n:null!==e.props.state.channelState.channelDescriptions&&null!==e.props.state.channelState.channelDescriptions[t].order?e.props.state.channelState.channelDescriptions[t].order:0}return 0},e.getSelectedStripType=function(){if(null!==e.props.state.channelState.editedChannelDescription){var t=e.props.state.channelState.editedChannelDescription.id,n=e.props.state.channelState.editedChannelDescription.type;return null!==n?n:null!==e.props.state.channelState.channelDescriptions&&null!==e.props.state.channelState.channelDescriptions[t].type?e.props.state.channelState.channelDescriptions[t].type:0}return 0},e.getInteriorCheckedState=function(){return null!==e.props.state.channelState.editedChannelDescription&&!0===e.props.state.channelState.editedChannelDescription.isInterior},e.getCenteredCheckedState=function(){return null!==e.props.state.channelState.editedChannelDescription&&!0===e.props.state.channelState.editedChannelDescription.isCentered},e.showAddEditDescription=function(){if(null!==e.props.state.channelState.editedChannelDescription)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"channelAddEditDiv"},r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"column leftColumn"},"Channel:"),r.a.createElement("div",{className:"column"},r.a.createElement("select",{className:"channelInput rightColumn",onChange:e.switchEditingChannel,value:e.getSelectedChannel()},r.a.createElement("option",{value:0},"0"),r.a.createElement("option",{value:1},"1"),r.a.createElement("option",{value:2},"2"),r.a.createElement("option",{value:3},"3"),r.a.createElement("option",{value:4},"4"),r.a.createElement("option",{value:5},"5"),r.a.createElement("option",{value:6},"6"),r.a.createElement("option",{value:7},"7")))),r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"column leftColumn"},"LED Count:"),r.a.createElement("div",{className:"column"},r.a.createElement("input",{className:"channelTextInput rightColumn",type:"text",name:"numLEDs",value:e.getNumLEDsValue(),maxLength:"3",onChange:e.updateNumLEDs}))),r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"column leftColumn"},"Height:"),r.a.createElement("div",{className:"column"},r.a.createElement("input",{className:"channelTextInput rightColumn",type:"text",name:"height",value:e.getHeight(),maxLength:"3",onChange:e.updateHeight}))),r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"column leftColumn"},"Width:"),r.a.createElement("div",{className:"column"},r.a.createElement("input",{className:"channelTextInput rightColumn",type:"text",name:"width",value:e.getWidth(),maxLength:"3",onChange:e.updateWidth}))),r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"column leftColumn"},"Color Order:"),r.a.createElement("div",{className:"column"},r.a.createElement("select",{className:"channelInput rightColumn",value:e.getSelectedColorOrder(),onChange:e.updateColorOrder},r.a.createElement("option",{value:0},"RGB"),r.a.createElement("option",{value:1},"RBG"),r.a.createElement("option",{value:2},"BRG"),r.a.createElement("option",{value:3},"BGR"),r.a.createElement("option",{value:4},"GBR"),r.a.createElement("option",{value:5},"GRB")))),r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"column leftColumn"},"Strip Type:"),r.a.createElement("div",{className:"column"},r.a.createElement("select",{className:"channelInput rightColumn",value:e.getSelectedStripType(),onChange:e.updateStripType},r.a.createElement("option",{value:0},"NONE"),r.a.createElement("option",{value:1},"NEO KHZ800"),r.a.createElement("option",{value:2},"NEO KHZ400")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column inlineColumn"},r.a.createElement("input",{name:"isInterior",type:"checkbox",checked:e.getInteriorCheckedState(),onChange:e.updateInterior}),r.a.createElement("label",null,"In Interior?")),r.a.createElement("div",{className:"column inlineColumn"},r.a.createElement("input",{name:"isCentered",type:"checkbox",checked:e.getCenteredCheckedState(),onChange:e.updateCentered}),r.a.createElement("label",null,"Is Centered?"))),r.a.createElement("div",{className:"channelPositionDiv"},r.a.createElement("label",null,"Strip Position:",r.a.createElement("div",null,r.a.createElement("input",{className:e.getTogglePositionStyle("0:0"),type:"button",value:"0:0",onClick:e.updateChannelPosition}),r.a.createElement("input",{className:e.getTogglePositionStyle("0:1"),type:"button",value:"0:1",onClick:e.updateChannelPosition}),r.a.createElement("input",{className:e.getTogglePositionStyle("0:2"),type:"button",value:"0:2",onClick:e.updateChannelPosition})),r.a.createElement("div",null,r.a.createElement("input",{className:e.getTogglePositionStyle("1:0"),type:"button",value:"1:0",onClick:e.updateChannelPosition}),r.a.createElement("input",{className:e.getTogglePositionStyle("1:1"),type:"button",value:"1:1",onClick:e.updateChannelPosition}),r.a.createElement("input",{className:e.getTogglePositionStyle("1:2"),type:"button",value:"1:2",onClick:e.updateChannelPosition})),r.a.createElement("div",null,r.a.createElement("input",{className:e.getTogglePositionStyle("2:0"),type:"button",value:"2:0",onClick:e.updateChannelPosition}),r.a.createElement("input",{className:e.getTogglePositionStyle("2:1"),type:"button",value:"2:1",onClick:e.updateChannelPosition}),r.a.createElement("input",{className:e.getTogglePositionStyle("2:2"),type:"button",value:"2:2",onClick:e.updateChannelPosition})),r.a.createElement("div",null,r.a.createElement("input",{className:e.getTogglePositionStyle("3:0"),type:"button",value:"3:0",onClick:e.updateChannelPosition}),r.a.createElement("input",{className:e.getTogglePositionStyle("3:1"),type:"button",value:"3:1",onClick:e.updateChannelPosition}),r.a.createElement("input",{className:e.getTogglePositionStyle("3:2"),type:"button",value:"3:2",onClick:e.updateChannelPosition})))),r.a.createElement("div",null,r.a.createElement("input",{className:"channelButton channelInput",type:"button",value:"Update Channel",onClick:e.updateChannel}))))},e}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"channelSelectorMainDiv"},r.a.createElement("h3",null,"Select Channels"),r.a.createElement("div",{className:"channelsDiv"},r.a.createElement("input",{className:"channelButton channelInput",type:"button",name:"addEditChannels",value:"Add/Edit Channels",onClick:this.addEditChannels}),this.showAddEditDescription(),r.a.createElement("div",null,r.a.createElement("input",{disabled:this.getDisabledStatus(0),className:this.getToggleStyle(0),type:"button",name:"channel0",value:0,onClick:this.channelClicked}),r.a.createElement("input",{disabled:this.getDisabledStatus(1),className:this.getToggleStyle(1),type:"button",name:"channel1",value:1,onClick:this.channelClicked}),r.a.createElement("input",{disabled:this.getDisabledStatus(2),className:this.getToggleStyle(2),type:"button",name:"channel2",value:2,onClick:this.channelClicked}),r.a.createElement("input",{disabled:this.getDisabledStatus(3),className:this.getToggleStyle(3),type:"button",name:"channel3",value:3,onClick:this.channelClicked}),r.a.createElement("input",{disabled:this.getDisabledStatus(4),className:this.getToggleStyle(4),type:"button",name:"channel4",value:4,onClick:this.channelClicked}),r.a.createElement("input",{disabled:this.getDisabledStatus(5),className:this.getToggleStyle(5),type:"button",name:"channel5",value:5,onClick:this.channelClicked}),r.a.createElement("input",{disabled:this.getDisabledStatus(6),className:this.getToggleStyle(6),type:"button",name:"channel6",value:6,onClick:this.channelClicked}),r.a.createElement("input",{disabled:this.getDisabledStatus(7),className:this.getToggleStyle(7),type:"button",name:"channel7",value:7,onClick:this.channelClicked}))))}}]),n}(a.Component)),E=(n(266),function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).writeToDevice=function(){var t=Object(h.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{C.updateCommand(e.props.state.deviceState.selectedDevice,e.props.state.primaryColorState,e.props.state.secondaryColorState,e.props.state.commandState)}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"displayBuilderMainDiv"},r.a.createElement("h2",null,"Display Builder"),r.a.createElement(b,{state:this.props.state,stateUpdaters:this.props.stateUpdaters}),r.a.createElement(f,{state:this.props.state,stateUpdaters:this.props.stateUpdaters,type:"primary"}),r.a.createElement(f,{state:this.props.state,stateUpdaters:this.props.stateUpdaters,type:"secondary"}),r.a.createElement(D,{state:this.props.state,stateUpdaters:this.props.stateUpdaters}),r.a.createElement("div",null,r.a.createElement("input",{className:"displayBuilderButton",type:"button",value:"Write To Device",onClick:this.writeToDevice})))}}]),n}(a.Component)),w=(n(267),function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={deviceState:{selectedDevice:null,connectionStatus:0,lightsOn:!0},channelState:{selectedChannelList:[!1,!1,!1,!1,!1,!1,!1,!1],channelDescriptions:null,editedChannelDescription:null},primaryColorState:{colorList:["#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"],isPickingColor:!1,red:255,green:0,blue:255},secondaryColorState:{colorList:["#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"],isPickingColor:!1,red:255,green:0,blue:255},commandState:{animation:0,delay:0}},e.updateDeviceState=function(t,n,a){var r={selectedDevice:t,connectionStatus:n,lightsOn:a};e.setState({deviceState:r})},e.updateChannelState=function(t,n,a){var r={selectedChannelList:t,channelDescriptions:n,editedChannelDescription:a};e.setState({channelState:r})},e.updatePrimaryColorState=function(t,n,a,r,s){var o={colorList:t,isPickingColor:n,red:a,green:r,blue:s};e.setState({primaryColorState:o})},e.updateSecondaryColorState=function(t,n,a,r,s){var o={colorList:t,isPickingColor:n,red:a,green:r,blue:s};e.setState({secondaryColorState:o})},e.updateCommandState=function(t,n){var a={animation:t,delay:n};e.setState({commandState:a})},e.updateAllStates=function(t){try{var n={selectedDevice:t.server,connectionStatus:2,lightsOn:t.data.lightsOn},a={colorList:["#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"],isPickingColor:!1,red:t.data.command.primaryRed,green:t.data.command.primaryGreen,blue:t.data.command.primaryBlue},r={colorList:["#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"],isPickingColor:!1,red:t.data.command.secondaryRed,green:t.data.command.secondaryGreen,blue:t.data.command.secondaryBlue},s={animation:t.data.command.animation,delay:t.data.command.stepDelay},o={selectedChannelList:e.getSelectedChannelList(t.data.channels),channelDescriptions:e.getChannelDescriptions(t.data.channels),editedChannelDescription:null};e.setState({deviceState:n,channelState:o,primaryColorState:a,secondaryColorState:r,commandState:s})}catch(l){alert(l)}},e.getSelectedChannelList=function(e){for(var t=[],n=0;n<8;n++)null!=e&&null!=e[n]&&1===e[n].stripUsed?t.push(!0):t.push(!1);return t},e.getPositionFromInt=function(e){var t=e%3;return Math.floor(e/3).toString()+":"+t.toString()},e.getChannelDescriptions=function(t){for(var n=[],a=0;a<8;a++){var r=null;r=null!=t&&null!=t[a]?{id:a,type:t[a].stripType,numLEDs:t[a].numLEDs,position:e.getPositionFromInt(t[a].stripPosition),order:t[a].stripOrder,used:t[a].stripUsed,isInterior:t[a].isInterior,isCentered:t[a].isCentered,height:t[a].height,width:t[a].width}:{id:a,type:null,numLEDs:null,position:null,order:null,used:!1,isInterior:!1,isCentered:!1,height:null,width:null},n.push(r)}return n},e.stateUpdaters={updateDeviceState:e.updateDeviceState,updateChannelState:e.updateChannelState,updatePrimaryColorState:e.updatePrimaryColorState,updateSecondaryColorState:e.updateSecondaryColorState,updateCommandState:e.updateCommandState,updateAllStates:e.updateAllStates},e.showDisplayBuilder=function(){if(2===e.state.deviceState.connectionStatus)return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{state:e.state,stateUpdaters:e.stateUpdaters}))},e}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{stateUpdaters:this.stateUpdaters,state:this.state}),this.showDisplayBuilder())}}]),n}(r.a.Component)),k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(w,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");k?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):U(t,e)}))}}()},90:function(e,t,n){e.exports=n(268)},96:function(e){e.exports=JSON.parse('{"serviceUUID":"8d727090-093e-46a8-bf1d-23eeee2da202","saveUUID":"8d727091-093e-46a8-bf1d-23eeee2da202","onUUID":"8d727092-093e-46a8-bf1d-23eeee2da202","commandUUID":"8d727093-093e-46a8-bf1d-23eeee2da202","bulkReadUUID":"8d727094-093e-46a8-bf1d-23eeee2da202","channelUUIDs":["8d727095-093e-46a8-bf1d-23eeee2da202","8d727096-093e-46a8-bf1d-23eeee2da202","8d727097-093e-46a8-bf1d-23eeee2da202","8d727098-093e-46a8-bf1d-23eeee2da202","8d727099-093e-46a8-bf1d-23eeee2da202","8d72709a-093e-46a8-bf1d-23eeee2da202","8d72709b-093e-46a8-bf1d-23eeee2da202","8d72709c-093e-46a8-bf1d-23eeee2da202"]}')},97:function(e,t,n){}},[[90,1,2]]]);
//# sourceMappingURL=main.1f1abe6d.chunk.js.map